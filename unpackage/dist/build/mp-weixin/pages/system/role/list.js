(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/system/role/list"],{"081c":function(n,e,t){"use strict";t.r(e);var i=t("eace"),u=t.n(i);for(var o in i)"default"!==o&&function(n){t.d(e,n,(function(){return i[n]}))}(o);e["default"]=u.a},8831:function(n,e,t){"use strict";var i=t("af8f"),u=t.n(i);u.a},"9d5b":function(n,e,t){"use strict";(function(n){t("f659");i(t("66fd"));var e=i(t("b160"));function i(n){return n&&n.__esModule?n:{default:n}}n(e.default)}).call(this,t("543d")["createPage"])},af8f:function(n,e,t){},b09d:function(n,e,t){"use strict";t.d(e,"b",(function(){return u})),t.d(e,"c",(function(){return o})),t.d(e,"a",(function(){return i}));var i={unicloudDb:function(){return t.e("node-modules/@dcloudio/uni-cli-shared/components/unicloud-db").then(t.bind(null,"960d"))},uniTable:function(){return t.e("uni_modules/uni-table/components/uni-table/uni-table").then(t.bind(null,"237e"))},uniTr:function(){return t.e("uni_modules/uni-table/components/uni-tr/uni-tr").then(t.bind(null,"0d2d"))},uniTh:function(){return t.e("uni_modules/uni-table/components/uni-th/uni-th").then(t.bind(null,"ae12"))},uniTd:function(){return t.e("uni_modules/uni-table/components/uni-td/uni-td").then(t.bind(null,"bff5"))},uniDateformat:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uni-dateformat/components/uni-dateformat/uni-dateformat")]).then(t.bind(null,"afa6"))},uniPagination:function(){return t.e("uni_modules/uni-pagination/components/uni-pagination/uni-pagination").then(t.bind(null,"9bf6"))},fixWindow:function(){return t.e("components/fix-window/fix-window").then(t.bind(null,"86a2"))}},u=function(){var n=this,e=n.$createElement;n._self._c},o=[]},b160:function(n,e,t){"use strict";t.r(e);var i=t("b09d"),u=t("081c");for(var o in u)"default"!==o&&function(n){t.d(e,n,(function(){return u[n]}))}(o);t("8831");var r,a=t("f0c5"),c=Object(a["a"])(u["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);e["default"]=c.exports},eace:function(n,e,t){"use strict";(function(n,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=o(t("a34a"));function o(n){return n&&n.__esModule?n:{default:n}}function r(n,e,t,i,u,o,r){try{var a=n[o](r),c=a.value}catch(s){return void t(s)}a.done?e(c):Promise.resolve(c).then(i,u)}function a(n){return function(){var e=this,t=arguments;return new Promise((function(i,u){var o=n.apply(e,t);function a(n){r(o,i,u,a,c,"next",n)}function c(n){r(o,i,u,a,c,"throw",n)}a(void 0)}))}}n.database();var c="create_date desc",s=["role_id","role_name"],l=20,d=1,f={data:function(){return{query:"",where:"",orderby:c,options:{pageSize:l,pageCurrent:d},selectedIndexs:[]}},methods:{onqueryload:function(n,e){for(var t=0;t<n.length;t++){var i=n[t];i.permission=i.permission.map((function(n){return n.permission_name})).join("、")}},getWhere:function(){var n=this.query.trim();if(!n)return"";var e=new RegExp(n,"i");return s.map((function(n){return e+".test("+n+")"})).join(" || ")},search:function(){var n=this.getWhere(),e=n===this.where;this.where=n,e&&this.loadData()},loadData:function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.udb.loadData({clear:n})},onPageChanged:function(n){this.$refs.udb.loadData({current:n.current})},navigateTo:function(n,e){var t=this;i.navigateTo({url:n,events:{refreshData:function(){t.loadData(e)}}})},selectedItems:function(){var n=this.$refs.udb.dataList;return this.selectedIndexs.map((function(e){return n[e].role_id}))},delTable:function(){var n=this;i.showModal({title:"提示",content:"确认删除多条记录？",success:function(e){e.confirm&&n.delete(n.selectedItems())}})},selectionChange:function(n){this.selectedIndexs=n.detail.index},confirmDelete:function(n){var e=this;i.showModal({title:"提示",content:"确认删除该记录？",success:function(t){t.confirm&&e.delete(n)}})},delete:function(n){var e=this;return a(u.default.mark((function t(){return u.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i.showLoading({mask:!0}),t.next=3,e.$request("system/role/remove",{id:n}).then((function(n){i.showToast({title:"删除成功"})})).catch((function(n){i.showModal({content:n.message||"请求服务失败",showCancel:!1})})).finally((function(n){i.hideLoading()}));case 3:e.loadData(!1);case 4:case"end":return t.stop()}}),t)})))()},praseRoleArr:function(n){return n?n.map((function(n){return n.permission_name})).join("、"):"-"}}};e.default=f}).call(this,t("a9ff")["default"],t("543d")["default"])}},[["9d5b","common/runtime","common/vendor"]]]);
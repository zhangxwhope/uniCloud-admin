<view><view class="uni-tabs__header"><view class="uni-tabs__nav-wrap"><view class="uni-tabs__nav-scroll"><view class="uni-tabs__nav"><view data-event-opts="{{[['tap',[['switchTab',['menus']]]]]}}" class="{{['uni-tabs__item',(currentTab==='menus')?'is-active':'']}}" bindtap="__e">菜单管理</view><block wx:if="{{pluginMenus.length}}"><view data-event-opts="{{[['tap',[['switchTab',['pluginMenus']]]]]}}" class="{{['uni-tabs__item',(currentTab==='pluginMenus')?'is-active':'']}}" bindtap="__e">待添加菜单<uni-badge class="menu-badge" vue-id="b98ade02-1" text="{{pluginMenus.length}}" type="error" bind:__l="__l"></uni-badge></view></block></view></view></view></view><view hidden="{{!(currentTab==='menus')}}"><view class="uni-header" style="border-bottom:0;margin-bottom:-15px;"><view class="uni-group"><button size="mini" type="primary" data-event-opts="{{[['tap',[['navigateTo',['./add']]]]]}}" bindtap="__e">新增一级菜单</button></view><view class="uni-group"></view></view><view class="uni-container"><uni-table vue-id="b98ade02-2" loading="{{loading}}" emptyText="{{errMsg||'没有更多数据'}}" border="{{true}}" stripe="{{true}}" bind:__l="__l" vue-slots="{{['default']}}"><uni-tr vue-id="{{('b98ade02-3')+','+('b98ade02-2')}}" bind:__l="__l" vue-slots="{{['default']}}"><uni-th vue-id="{{('b98ade02-4')+','+('b98ade02-3')}}" width="80" align="center" bind:__l="__l" vue-slots="{{['default']}}">排序</uni-th><uni-th vue-id="{{('b98ade02-5')+','+('b98ade02-3')}}" width="200" align="center" bind:__l="__l" vue-slots="{{['default']}}">名称</uni-th><uni-th vue-id="{{('b98ade02-6')+','+('b98ade02-3')}}" width="200" align="center" bind:__l="__l" vue-slots="{{['default']}}">标识</uni-th><uni-th vue-id="{{('b98ade02-7')+','+('b98ade02-3')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">URL</uni-th><uni-th vue-id="{{('b98ade02-8')+','+('b98ade02-3')}}" width="100" align="center" bind:__l="__l" vue-slots="{{['default']}}">是否启用</uni-th><uni-th vue-id="{{('b98ade02-9')+','+('b98ade02-3')}}" width="160" align="center" bind:__l="__l" vue-slots="{{['default']}}">操作</uni-th></uni-tr><block wx:for="{{menus}}" wx:for-item="item" wx:for-index="index" wx:key="index"><uni-tr vue-id="{{('b98ade02-10-'+index)+','+('b98ade02-2')}}" bind:__l="__l" vue-slots="{{['default']}}"><uni-td vue-id="{{('b98ade02-11-'+index)+','+('b98ade02-10-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{item.sort}}</uni-td><uni-td vue-id="{{('b98ade02-12-'+index)+','+('b98ade02-10-'+index)}}" bind:__l="__l" vue-slots="{{['default']}}">{{item.title}}</uni-td><uni-td vue-id="{{('b98ade02-13-'+index)+','+('b98ade02-10-'+index)}}" bind:__l="__l" vue-slots="{{['default']}}">{{item.menu_id}}</uni-td><uni-td vue-id="{{('b98ade02-14-'+index)+','+('b98ade02-10-'+index)}}" bind:__l="__l" vue-slots="{{['default']}}">{{item.url}}</uni-td><uni-td class="{{[(!item.enable)?'menu-disable':'']}}" vue-id="{{('b98ade02-15-'+index)+','+('b98ade02-10-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{item.enable?'已启用':'未启用'}}</uni-td><uni-td vue-id="{{('b98ade02-16-'+index)+','+('b98ade02-10-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}"><view class="uni-group"><block wx:if="{{!item.url}}"><button class="uni-button" size="mini" type="primary" data-event-opts="{{[['tap',[['navigateTo',['./add?parent_id='+item.menu_id,false]]]]]}}" bindtap="__e">子菜单</button></block><button class="uni-button" size="mini" type="primary" data-event-opts="{{[['tap',[['navigateTo',['./edit?id='+item._id,false]]]]]}}" bindtap="__e">修   改</button><button class="uni-button" style="{{'visibility:'+(item.menu_id==='system_menu'||item.menu_id==='system_management'?'hidden':'initial')+';'}}" size="mini" type="warn" data-event-opts="{{[['tap',[['confirmDelete',['$0'],[[['menus','',index]]]]]]]}}" bindtap="__e">删   除</button></view></uni-td></uni-tr></block></uni-table></view></view><view hidden="{{!(currentTab==='pluginMenus')}}"><view class="uni-header" style="border-bottom:0;margin-bottom:-15px;"><view class="uni-group"><button style="width:130px;" size="mini" type="primary" data-event-opts="{{[['tap',[['addPluginMenus',['$event']]]]]}}" bindtap="__e">添加选中的菜单</button></view><view class="uni-group"></view></view><view class="uni-container"><uni-table class="vue-ref" vue-id="b98ade02-17" type="selection" border="{{true}}" stripe="{{true}}" data-ref="pluginMenusTable" data-event-opts="{{[['^selectionChange',[['pluginMenuSelectChange']]]]}}" bind:selectionChange="__e" bind:__l="__l" vue-slots="{{['default']}}"><uni-tr vue-id="{{('b98ade02-18')+','+('b98ade02-17')}}" bind:__l="__l" vue-slots="{{['default']}}"><uni-th vue-id="{{('b98ade02-19')+','+('b98ade02-18')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">名称（标识）</uni-th><uni-th vue-id="{{('b98ade02-20')+','+('b98ade02-18')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">URL</uni-th><uni-th vue-id="{{('b98ade02-21')+','+('b98ade02-18')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">插件菜单 json 文件</uni-th></uni-tr><block wx:for="{{pluginMenus}}" wx:for-item="item" wx:for-index="index" wx:key="index"><uni-tr vue-id="{{('b98ade02-22-'+index)+','+('b98ade02-17')}}" bind:__l="__l" vue-slots="{{['default']}}"><uni-td vue-id="{{('b98ade02-23-'+index)+','+('b98ade02-22-'+index)}}" bind:__l="__l" vue-slots="{{['default']}}">{{item.name+"（"+item.menu_id+"）"}}</uni-td><uni-td vue-id="{{('b98ade02-24-'+index)+','+('b98ade02-22-'+index)}}" bind:__l="__l" vue-slots="{{['default']}}">{{item.url}}</uni-td><uni-td vue-id="{{('b98ade02-25-'+index)+','+('b98ade02-22-'+index)}}" bind:__l="__l" vue-slots="{{['default']}}">{{item.json}}</uni-td></uni-tr></block></uni-table><view class="uni-sub-title" style="margin-top:15px;">以上待添加菜单来自于三方插件，添加后，将显示在菜单管理中，若不希望显示在上述表格中时，可手动删除项目中对应的`插件id-menu.json`文件。</view></view></view><fix-window vue-id="b98ade02-26" bind:__l="__l"></fix-window></view>